import{r as n,g as _,z as k,A as C,M as D,R as c,F as O,T as B,J as t,U as N,C as V,V as u,B as j,L as U,W as S,Q as E,X as Q,i as R}from"./index.1957b6ec.js";const A=()=>!0;function F(a){const s={};return a.forEach(o=>{s[o]=A}),s}function b(){const{emit:a,proxy:s}=_(),o=n(null);function g(){o.value.show()}function i(){o.value.hide()}function r(m){a("ok",m),i()}function d(){a("hide")}return Object.assign(s,{show:g,hide:i}),{dialogRef:o,onDialogHide:d,onDialogOK:r,onDialogCancel:i}}const q=["ok","hide"];b.emits=q;b.emitsObject=F(q);const M=V("div",{class:"medium-text q-ml-lg q-mr-lg",style:{"text-align":"center",color:"black","margin-bottom":"0"}}," Unterst\xFCtzt uns als Vereinsmitglied. Der Mitgliederbeitrag betr\xE4gt CHF 25.- pro Person/Jahr. Ihr werdet mit einer Rechnung kontaktiert. ",-1),P={class:"row flex justify-center"},z={key:0},T=V("p",{class:"text-red",style:{"text-align":"center","margin-bottom":"0"}}," Bitte f\xFCllen Sie alle Pflichtfelder aus. ",-1),I=[T],J=k({__name:"RequestDialogComponent",setup(a){const{dialogRef:s,onDialogOK:o,onDialogCancel:g}=b(),i=n(""),r=n(""),d=n(""),m=n(""),p=n(""),f=n(""),x=n(""),v=n(!0);async function w(){const h={firstName:i.value,name:r.value,mail:d.value,street:m.value,plz:p.value,place:f.value,message:x.value};if(i.value===""||r.value===""||d.value===""){v.value=!1;return}else v.value=!0;try{const l=await fetch("/api/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(l.ok){const e=await l.json();console.log("Data sent successfully:",e),o(!0)}else console.error("Failed to send data:",l.statusText),o(!1)}catch(l){console.error("Error sending data:",l),o(!1)}}return(h,l)=>(C(),D(B,{ref_key:"dialogRef",ref:s,onCancel:O(g),"full-height":""},{default:c(()=>[t(Q,{class:"q-pa-sm",flat:"",style:{"background-color":"#eaeaea",width:"800px",height:"500px","border-radius":"5px"}},{default:c(()=>[M,t(N,{class:"flex flex-center column content-center justify-center"},{default:c(()=>[V("div",P,[t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),label:"Vorname*",rules:[e=>!!e||"Bitte geben Sie einen Namen ein"],style:{width:"300px"}},null,8,["modelValue","rules"]),t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),label:"Name*",rules:[e=>!!e||"Bitte geben Sie einen Namen ein"],style:{width:"300px"}},null,8,["modelValue","rules"]),t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),label:"E-Mail*",rules:[e=>!!e||"Bitte geben Sie E-Mail Adresse ein"],style:{width:"300px"}},null,8,["modelValue","rules"]),t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=e),label:"Strasse & Nr.",rules:[],style:{width:"300px","margin-bottom":"40px"}},null,8,["modelValue"]),t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=e=>p.value=e),label:"PLZ",rules:[],style:{width:"300px","margin-bottom":"40px"}},null,8,["modelValue"]),t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=e=>f.value=e),label:"Ort",rules:[],style:{width:"300px","margin-bottom":"40px"}},null,8,["modelValue"]),t(u,{class:"q-mx-lg q-my-md",outlined:"",modelValue:x.value,"onUpdate:modelValue":l[6]||(l[6]=e=>x.value=e),label:"Mitteilung",type:"textarea",rules:[],style:{width:"300px"}},null,8,["modelValue"])])]),_:1}),v.value?U("",!0):(C(),j("div",z,I)),t(S,{align:"center"},{default:c(()=>[t(E,{label:"Absenden",color:"primary",style:"width: 150px; margin: 20px 0 10px 0",onClick:w})]),_:1})]),_:1})]),_:1},8,["onCancel"]))}}),y=R("$routerService");function K(a){a.dialog({component:J}).onOk(s=>{s?a.notify({color:"positive",position:"top",message:"Anfrage gesendet!",timeout:2e3}):a.notify({color:"negative",position:"top",message:"Anfrage fehlgeschlagen!",timeout:2e3})}).onCancel(()=>{y==null||y.pop()})}export{K as o};
